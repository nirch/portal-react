{"version":3,"sources":["shared/server.js","pages/login/LoginPage.js","components/navbar/PortalNavbar.js","pages/courses/CoursesPage.js","pages/courses/CourseDetailsPage.js","pages/users/UsersPage.js","pages/users/UserDetailsPage.js","pages/hours/HoursReportPage.js","pages/hours/HoursApprovePage.js","App.js","serviceWorker.js","index.js","logo.svg"],"names":["activeUser","data","type","a","token","undefined","v","request","method","url","phpDomain","JSON","stringify","headers","axios","response","server","LoginPage","props","state","email","pwd","handleInputChange","bind","login","ev","name","target","value","this","setState","pass","then","res","console","log","error","alert","handleLogin","err","to","Container","Form","Group","controlId","Label","Control","placeholder","onChange","Button","variant","onClick","Component","PortalNavbar","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","className","Link","CoursesPage","CourseDetailsPage","UsersPage","UserDetailsPage","HoursReportPage","HoursApprovePage","App","exact","path","React","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.a1132e48.chunk.js","sourcesContent":["import axios from \"axios\";\n\nasync function server(activeUser, data, type) {\n\n    const version = 2.3;\n    const phpDomain = 'https://pil1.appleseeds.org.il/dcnir/server/';\n    const imgsDomain = 'https://pil1.appleseeds.org.il/dcnir/';\n\n    // Adding the user's token to the payload\n    data.token = activeUser ? activeUser.token : undefined;\n\n    // Adding the version to the payload\n    data.v = version;\n\n    // creating the request\n    const request = {\n        method: \"post\",\n        url: phpDomain + \"datagate.php?type=\" + type,\n        data: JSON.stringify(data),\n        headers : { 'Content-Type': undefined},\n    }\n\n    const response = await axios(request);\n    return response;\n    // if (json && json.error == \"user not found\") {\n    //     loginStatus\t=false;\n    //     $rootScope.userToken = \"\";\n    //     $rootScope.isAdmin = false;\n    //     $state.transitionTo('login');\n    // }\n    // else if (json && json.error==\"access permission\")\n    // {\n    //     alert(json.error);\n    // }\n}\n\nexport default server;","import React, { Component } from 'react';\nimport { Container, Form, Button } from 'react-bootstrap'\nimport './login.css'\nimport server from '../../shared/server'\nimport { Redirect } from 'react-router-dom'\n\n\nclass LoginPage extends Component {\n\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            email: \"\",\n            pwd: \"\"\n        }\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.login = this.login.bind(this);\n    }\n    \n    handleInputChange(ev) {\n        const name = ev.target.name;\n        const value = ev.target.value;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    login() {\n        const { email, pwd } = this.state;\n\n        if(!email||!pwd)\n\t\t{\n\t\t\talert(\"נא להזין פרטי משתמש\");\n\t\t\treturn;\n        }\n        \n        const data = {email, pass: pwd};\n\n        server(null, data, \"login\").then(res => {\n            console.log(res);\n            debugger;\n            if (res.data.error) {\n                alert(\"error in login\");\n            } else {\n                this.props.handleLogin(res.data);\n            }\n        }, err => {\n            console.error(err);\n        })\n    }\n\n    render() {\n        const { email, pwd } = this.state;\n        const { activeUser } = this.props;\n\n        debugger;\n        if (activeUser) {\n            return <Redirect to='/courses' />\n        }\n\n\n        return (\n\n            <Container>\n                <h1>התחברות</h1>\n                <Form>\n                    <Form.Group controlId=\"formBasicEmail\">\n                        <Form.Label></Form.Label>\n                        <Form.Control value={email} name=\"email\" type=\"email\" placeholder=\"אימייל\" onChange={this.handleInputChange}/>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"formBasicPassword\">\n                        <Form.Label></Form.Label>\n                        <Form.Control value={pwd} name=\"pwd\" type=\"password\" placeholder=\"סיסמה\" onChange={this.handleInputChange}/>\n                    </Form.Group>\n\n                    <Button variant=\"primary\" type=\"button\" onClick={this.login}>\n                        התחבר\n                    </Button>\n                </Form>\n            </Container>\n        );\n    }\n}\n\nexport default LoginPage;","import React, { Component } from 'react';\nimport { Navbar, Nav } from 'react-bootstrap'\nimport './navbar.css'\n\nclass PortalNavbar extends Component {\n    render() {\n        return (\n            <div>\n                <Navbar bg=\"light\" expand=\"lg\">\n                    <Navbar.Brand href=\"/\">פורטל תפוח</Navbar.Brand>\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\n                        <Nav className=\"mr-auto\">\n                            <Nav.Link href=\"#/courses\">קורסים</Nav.Link>\n                            <Nav.Link href=\"#/users\">משתמשים</Nav.Link>\n                            <Nav.Link href=\"#/hours-report\">דיווח שעות</Nav.Link>\n                            <Nav.Link href=\"#/hours-approve\">אישור שעות</Nav.Link>\n                        </Nav>\n                    </Navbar.Collapse>\n                </Navbar>            \n            </div>\n        );\n    }\n}\n\nexport default PortalNavbar;","import React, { Component } from 'react';\nimport './courses.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\n\nclass CoursesPage extends Component {\n    render() {\n        return (\n            <div>\n                <PortalNavbar/>\n                <h1>קורסים</h1>\n            </div>\n        );\n    }\n}\n\nexport default CoursesPage;","import React, { Component } from 'react';\nimport './courses.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\n\nclass CourseDetailsPage extends Component {\n    render() {\n        return (\n            <div>\n                <PortalNavbar/>\n                <h1>פרטי קורס</h1>\n            </div>\n        );\n    }\n}\n\nexport default CourseDetailsPage;","import React, { Component } from 'react';\nimport './users.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\n\nclass UsersPage extends Component {\n    render() {\n        return (\n            <div>\n                <PortalNavbar/>\n                <h1>משתמשים</h1>\n            </div>\n        );\n    }\n}\n\nexport default UsersPage;","import React, { Component } from 'react';\nimport './users.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\n\nclass UserDetailsPage extends Component {\n    render() {\n        return (\n            <div>\n                <PortalNavbar/>\n                <h1>פרטי משתמש</h1>\n            </div>\n        );\n    }\n}\n\nexport default UserDetailsPage;","import React, { Component } from 'react';\nimport './hours.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\n\nclass HoursReportPage extends Component {\n    render() {\n        return (\n            <div>\n                <PortalNavbar/>\n                <h1>דיווח שעות</h1>\n            </div>\n        );\n    }\n}\n\nexport default HoursReportPage;","import React, { Component } from 'react';\nimport './hours.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\n\nclass HoursApprovePage extends Component {\n    render() {\n        return (\n            <div>\n                <PortalNavbar/>\n                <h1>אישור שעות</h1>\n            </div>\n        );\n    }\n}\n\nexport default HoursApprovePage;","import React from 'react';\nimport logo from './logo.svg';\nimport { Switch, Route } from 'react-router-dom'\nimport LoginPage from './pages/login/LoginPage'\nimport CoursesPage from './pages/courses/CoursesPage'\nimport CourseDetailsPage from './pages/courses/CourseDetailsPage'\nimport UsersPage from './pages/users/UsersPage'\nimport UserDetailsPage from './pages/users/UserDetailsPage'\nimport HoursReportPage from './pages/hours/HoursReportPage'\nimport HoursApprovePage from './pages/hours/HoursApprovePage'\n\nimport './App.css';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeUser: null\n    };\n\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  handleLogin(activeUser) {\n    this.setState({activeUser});\n  }\n\n  render() {\n    const { activeUser } = this.state;\n\n    debugger;\n    return (\n      <Switch>\n        <Route exact path=\"/\">\n          <LoginPage activeUser={activeUser} handleLogin={this.handleLogin}/>\n        </Route>\n        <Route exact path=\"/courses\">\n          <CoursesPage activeUser={activeUser} />\n        </Route>\n        <Route path=\"/courses/:id\">\n          <CourseDetailsPage activeUser={activeUser} />\n        </Route>\n        <Route exact path=\"/users\">\n          <UsersPage activeUser={activeUser} />\n        </Route>\n        <Route path=\"/users/:id\">\n          <UserDetailsPage activeUser={activeUser} />\n        </Route>\n        <Route path=\"/hours-report\">\n          <HoursReportPage activeUser={activeUser} />\n        </Route>\n        <Route path=\"/hours-approve\">\n          <HoursApprovePage activeUser={activeUser} />\n        </Route>\n      </Switch>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<HashRouter><App /></HashRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";"],"sourceRoot":""}